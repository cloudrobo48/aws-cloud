<!doctype html>
<html lang="ja">
  <head>
    <meta charset="UTF-8" />
    <meta name="viewport" content="width=device-width, initial-scale=1.0" />
    <title>お問い合わせ（技術検証）</title>
    <link rel="stylesheet" href="/assets/css/style.css" />
  </head>
  <body>
    <header>
      <h1>お問い合わせフォーム（技術検証）</h1>
      <p>
        ※
        本フォームは技術検証目的で構築されたものであり、現在は送信機能を停止しています。
      </p>
      <nav>
        <ul>
          <li><a href="/index.html">ホーム</a></li>
          <li><a href="/docs/about.html">プロフィール</a></li>
          <li><a href="/docs/aws-hands-on.html">技術検証・ハンズオン</a></li>
          <li>
            <a href="/docs/spa-architecture.html">SPA案件に向けたAWS構成図</a>
          </li>
          <li>
            <a
              href="/docs/service.html"
              style="pointer-events: none; color: gray"
              >サービス内容（近日公開）</a
            >
          </li>
          <li><a href="/docs/contact.html">お問い合わせ</a></li>
        </ul>
      </nav>
    </header>

    <section class="form-note">
      <p
        style="
          color: #555;
          font-size: 0.95em;
          background: #f9f9f9;
          padding: 1em;
          border-left: 4px solid #ccc;
        "
      >
        このフォームは、AWS環境にて以下の構成で実装されました。<br /><br />
        <strong>■ 技術構成:</strong><br />
        ・API Gateway（HTTP）<br />
        ・Lambda（Python）<br />
        ・SES（メール送信）<br />

        <strong>■ セキュリティ設計:</strong><br />

        1. Lambdaオーソライザー<br />
        - 検討理由：ユーザー認証・認可をLambdaで柔軟に制御したかった<br />
        -
        課題：静的ホスティング環境ではユーザー情報（トークンなど）を保持・送信する仕組みがなく、**オーソライザーの意味が薄れる**<br />
        - 結論：静的コンテンツとの相性が悪く、採用見送り<br />

        2. APIキー<br />
        - 検討理由：アクセス制限・使用量制限をかけたかった<br />
        - 課題：HTTP APIではAPIキーの使用は可能だが、使用量プラン（Usage
        Plan）が非対応<br />
        - 結論：APIキーによる制限はREST APIでないと成立しないため、採用見送り<br />

        3. AWS WAF<br />
        - 検討理由：DDoS対策やIP制限など、セキュリティ強化のため<br />
        - 課題：HTTP
        APIはCloudFrontを経由しないため、WAFを直接アタッチできない<br />
        -
        結論：自前でCloudFront構成を組めば可能だが、運用コストが高く、今回は見送り<br />

        <strong>■ 判断と対応:</strong><br />
        ・フォーム送信機能は脆弱性リスクを考慮し、<span style="color: red"
          >API Gatewayを無効化</span
        ><br />
        ・Lambdaコードおよび構成図はポートフォリオとしてGitHubにて公開<br />

        技術的な検証と設計判断の記録として、本ページは公開を継続しています。
      </p>
    </section>

    <form id="contactForm" class="contact-form">
      <fieldset disabled>
        <legend>お問い合わせ（※現在は送信不可）</legend>

        <div class="form-group">
          <label for="name">名前</label>
          <input type="text" id="name" name="name" />
        </div>

        <div class="form-group">
          <label for="email">メールアドレス</label>
          <input type="email" id="email" name="_replyto" />
        </div>

        <div class="form-group">
          <label for="message">メッセージ</label>
          <textarea id="message" name="message" rows="6"></textarea>
        </div>

        <button id="submitButton" type="submit" class="cta" disabled>
          送信する（停止中）
        </button>
        <p id="responseMessage" style="display: none"></p>
      </fieldset>
    </form>

    <footer>
      <p>© 2025 クラウドインフラエンジニア | GitHub Pages</p>
    </footer>

    <script type="module" src="/assets/js/main.js?v=20250810"></script>
  </body>
</html>
